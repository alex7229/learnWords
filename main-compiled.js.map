{"version":3,"sources":["main.js"],"names":[],"mappings":"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","file":"main-compiled.js","sourcesContent":["\r\n //parsing from txt.rawData into JSON\r\n/*$.ajax({\r\n    url: `http://tup1tsa.bounceme.net/learnWords/wordsLists/rawLists/bast/Lemmatized/2+2+3frq.txt`\r\n})\r\n    .then(data => {\r\n        //console.log(data);\r\n        let rawData = data.toLowerCase().replace(/[!)(]/g, '');\r\n        let regExpGroups = /----- \\d{1,2} -----/g;\r\n        let wordGroups = rawData.split(regExpGroups);\r\n        let bigList = [];\r\n        let wordNumber = 0;\r\n        for (let i=1; i<=21; i++) {\r\n            let group = wordGroups[i];\r\n            let regExpWords = /([\\w'-]+)\\r\\n(?:\\s{4}([ \\w,*'-]+)\\r\\n)?/g;\r\n            let regExpResult;\r\n            while ((regExpResult = regExpWords.exec(group)) !== null) {\r\n                wordNumber++;\r\n                let word = {\r\n                    word: regExpResult[1],\r\n                    number: wordNumber,\r\n                    group: i,\r\n                    differentSpellings: regExpResult[2]\r\n                };\r\n                if (!word.word.match(/-/)) {\r\n                    bigList.push(word);\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n        //duplicates\r\n        bigList.splice(19127, 1);\r\n        bigList.splice(2821, 1);\r\n        bigList.splice(10143, 1);\r\n        bigList.splice(10153, 1);\r\n        console.log(((JSON.stringify(bigList))));\r\n        bigList.map((currentWord, index) => {\r\n            let sameWords = bigList.filter(possibleWord => {\r\n                if (currentWord.word === possibleWord.word) {\r\n                    return possibleWord\r\n                }\r\n            });\r\n            if (sameWords.length > 1) {\r\n                console.log(`word ${currentWord.word} has duplicates, index is ${index}`)\r\n            }\r\n        })\r\n    });\r\n*/\r\n\r\n\r\n//get sorted Data\r\n/*$.ajax({\r\n    url: 'http://tup1tsa.bounceme.net/learnWords/wordsLists/sorted_34k.txt'\r\n})\r\n.done((data) => {\r\n    let mainWords = JSON.parse(data);\r\n    $.ajax({\r\n            url: 'http://tup1tsa.bounceme.net/learnWords/wordsLists/rawLists/300k.txt'\r\n        })\r\n        .done((data) => {\r\n            let superBigList = [];\r\n\r\n            let powerWordsRaw = data;\r\n            let regExp = /(\\w+)\\s+(\\d+)/g;\r\n            let regExpResult;\r\n            while ((regExpResult = (regExp.exec(powerWordsRaw)))!==null) {\r\n                superBigList.push({\r\n                    word: regExpResult[1],\r\n                    power: parseInt(regExpResult[2])\r\n                })\r\n            }\r\n\r\n\r\n            let power = 3000;\r\n            for (let i=0; i<mainWords.length; i++) {\r\n                let mainWord = mainWords[i];\r\n                for (let j=0; j<superBigList.length; j++) {\r\n                    let powerWord = superBigList[j];\r\n                    if (mainWord.word === powerWord.word) {\r\n                        mainWord.power = powerWord.power;\r\n                        break\r\n                    }\r\n                }\r\n                if (!mainWord.power) {\r\n                    mainWord.power = power;\r\n                    power--\r\n                }\r\n            }\r\n\r\n\r\n            function compare (a,b) {\r\n                if (a.power>b.power) return -1;\r\n                if (a.power<b.power) return 1;\r\n                return 0\r\n            }\r\n            mainWords.sort(compare);\r\n            console.log((JSON.stringify(mainWords)));\r\n\r\n\r\n\r\n        });\r\n\r\n});*/\r\n\r\n\r\n\r\n//todo - get to work google.api for dictionary (via suspicious site) - (get web translation, add noun/verb type), add sound (when u guessed right answer) from fallout4\r\n\r\n\r\n class Controller {\r\n\r\n    static getTranslation() {\r\n        let word = $('#word').val();\r\n        if ((!word)) return;\r\n        AjaxRequests.getWordFromServer(word)\r\n            .then(data => {\r\n                Draw.yandex(YandexParse.getData(data))\r\n            }, err => {\r\n                if (err.status === 404) {\r\n                    AjaxRequests.yandexApi(word)\r\n                        .then(data => {\r\n                            Draw.yandex(YandexParse.getData(data))\r\n                        })\r\n                }\r\n            })\r\n    }\r\n\r\n    static getMeaning() {\r\n        let word = $('#word').val();\r\n        AjaxRequests.googleApi(word)\r\n            .then(data => {\r\n                Draw.google(GoogleParse.getData(data))\r\n            })\r\n    }\r\n\r\n    getWords() {\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n class AjaxRequests {\r\n\r\n     static yandexApi(word) {\r\n         return new Promise (resolve => {\r\n             $.ajax({\r\n                 url: '/getTranslation',\r\n                 type: 'POST',\r\n                 data: {\r\n                     word\r\n                 }\r\n             }).done(data => {\r\n                 resolve(data)\r\n             });\r\n         });\r\n     }\r\n\r\n     static googleApi (word) {\r\n         return new Promise (resolve => {\r\n             $.ajax({\r\n                 url: '/getMeaning',\r\n                 type: 'POST',\r\n                 data: {\r\n                     word\r\n                 }\r\n             }).done(data => {\r\n                 resolve(data)\r\n             });\r\n         });\r\n\r\n     }\r\n\r\n     static getWordFromServer (word) {\r\n         return new Promise ((resolve, reject) => {\r\n             $.ajax({\r\n                 url: `http://tup1tsa.bounceme.net/learnWords/wordsLists/yandexTranslations/${word}.txt`,\r\n                 type: 'GET'\r\n             }).done(data => {\r\n                 resolve(data)\r\n             }).catch(err => {\r\n                 reject (err)\r\n             })\r\n         })\r\n     }\r\n\r\n\r\n }\r\n\r\n class YandexParse {\r\n\r\n    static getData (rawData) {\r\n        let data = JSON.parse(rawData);\r\n        if (data.def.length === 0) return;\r\n        return data.def.map(description => {\r\n            return {\r\n                type: description.pos || ``,\r\n                transcription: description.ts ? `[${description.ts}]` : ``,\r\n                translations: description.tr\r\n                    .map(translation => {\r\n                        return {\r\n                            examples: YandexParse.transformExamples(translation.ex),\r\n                            synonyms: YandexParse.transformSynonyms(translation.syn),\r\n                            synonymsEn: YandexParse.transformSynonyms(translation.mean),\r\n                            translationType: translation.pos,\r\n                            translation: translation.text\r\n                        };\r\n                    })\r\n\r\n            };\r\n        })\r\n    }\r\n\r\n    static transformExamples (examples = []) {\r\n        return examples.map(example => {\r\n            return `${example.text} - ${example.tr[0].text}`\r\n        })\r\n    }\r\n\r\n    static transformSynonyms (synonyms = []) {\r\n        return synonyms.map(synonym => {\r\n            return synonym.text\r\n        })\r\n    }\r\n\r\n    static findCorrectAnswers (parsedWords) {\r\n        return parsedWords.map(word => {\r\n            return word.translations.map(translation => {\r\n                return translation.translation\r\n            })\r\n        }).reduce((previousWords, currentWord) => {\r\n            return previousWords.concat(currentWord)\r\n        }, [])\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n class GoogleParse {\r\n\r\n     static getData (rawData) {\r\n         return {\r\n             definitionLists : GoogleParse.findDefinitionLists(GoogleParse.findDefinitionChunks(rawData)),\r\n             webDefinitionLists: GoogleParse.findWebDefinitionLists(GoogleParse.findWebDefinitionChunk(rawData)),\r\n             grammar: GoogleParse.findGrammar(rawData)\r\n         }\r\n     }\r\n\r\n     static findDefinitionChunks(rawData) {\r\n         const regExp = /<b>(.*)\\n[\\s\\S]*?<\\/[\\s\\S]*?<div class=std style=\"padding-left:40px\">([\\s\\S]*?)(<div id=\"forEmbed\">|<hr>)/g;\r\n         let regExpResult;\r\n         let definitionsChunks = [];\r\n         while ((regExpResult = regExp.exec(rawData)) !== null) {\r\n             definitionsChunks.push({\r\n                 typeOfWord: regExpResult[1],\r\n                 body: regExpResult[2]\r\n             })\r\n         }\r\n         return definitionsChunks\r\n     }\r\n\r\n     static findDefinitionLists(chunks) {\r\n         return chunks.map(chunk => {\r\n             return {\r\n                 typeOfWord: chunk.typeOfWord,\r\n                 list: chunk.body.split(/<li style=\"list-style:decimal\">/g).slice(1)\r\n             }\r\n         })\r\n     }\r\n\r\n\r\n     static findWebDefinitionChunk(rawData) {\r\n         const regExp = /Web Definitions[\\s\\S]*<\\/ol>/g;\r\n         return rawData.match(regExp)[0];\r\n     }\r\n\r\n     static findWebDefinitionLists (chunk) {\r\n         let webList = [];\r\n         const regExp = /<li style=\"list-style:decimal; margin-bottom:10px;\">([\\s\\S]*?)<\\/li>/g;\r\n         let regExpResult;\r\n         while ((regExpResult = regExp.exec(chunk)) !== null) {\r\n             webList.push(regExpResult[1])\r\n         }\r\n         return webList\r\n     }\r\n\r\n     static findGrammar (rawData) {\r\n         const regExp = /<span style=\"color:#767676\">([\\s\\S]*?)<\\/span>/;\r\n         return rawData.match(regExp)[1].slice(0,-2);\r\n     }\r\n }\r\n\r\n\r\n class Draw {\r\n\r\n     static yandex (words) {\r\n         let divHTML = words.map(word => {\r\n             return `<br><span class=\"ital\"><b>${word.type}</b></span> ${word.transcription} ` +\r\n                 word.translations.map((translation, index) => {\r\n                     let innerHTML =`<br>${index+1}) ${translation.translation}`;\r\n                     if (translation.examples.length !== 0) {\r\n                         innerHTML += '. <br><span class=\"tabbed\">Examples:</span> ' +\r\n                             translation.examples.join('; ');\r\n                     }\r\n                     if (translation.synonyms.length !== 0) {\r\n                         innerHTML += `. <br><span class=\"tabbed\">Synonyms:</span> `+\r\n                             translation.synonyms.join('; ');\r\n                     }\r\n                     if (translation.synonymsEn.length !== 0) {\r\n                         innerHTML += `. <br><span class=\"tabbed\">Synonyms (en):</span> `+\r\n                             translation.synonymsEn.join('; ');\r\n                     }\r\n                     return innerHTML\r\n                 }).join('')\r\n            }) + '<hr>';\r\n         $('#translationBox').html(divHTML)\r\n     }\r\n\r\n     static google (data) {\r\n         const grammar = `<span class=\"googleGrammar\"><b>Grammar:</b> ${data.grammar}</span><br>`;\r\n         const definitions = data.definitionLists.map(chunk => {\r\n             return `<b>${chunk.typeOfWord}</b><br><ol>\r\n                ${chunk.list.map(definition => {\r\n                    return `<li>${definition}</li>`\r\n                }).join('')}</ol><hr>`\r\n         });\r\n         const webDefinition = `<b>Web Results:</b><ol>\r\n            ${data.webDefinitionLists.map(row => {\r\n                return `<li>${row}</li>`\r\n            }).join('')}</ol>`;\r\n         console.log(grammar);\r\n         console.log(definitions);\r\n         console.log(webDefinition);\r\n         $('#dictionaryBox').html(grammar+definitions+webDefinition)\r\n     }\r\n\r\n}\r\n\r\n\r\n class LearnMachine {\r\n\r\n     constructor () {\r\n         this.correctAnswers = []\r\n     }\r\n\r\n     setCorrectAnswers (words) {\r\n        this.correctAnswers = words\r\n     }\r\n\r\n     checkAnswer (word) {\r\n         if (this.correctAnswers.includes(word)) {\r\n             return true\r\n         }\r\n     }\r\n\r\n }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n$(document).ready(() => {\r\n\r\n});\r\n\r\n /*AjaxRequests.googleApi('cat')\r\n     .then(data => {\r\n         Draw.google(GoogleParse.getData(data))\r\n     });*/\r\n let learningMachine = new LearnMachine();\r\n\r\n"]}